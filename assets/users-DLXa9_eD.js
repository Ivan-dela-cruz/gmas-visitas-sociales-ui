import{a4 as l,a5 as u,a6 as i,z as o}from"./index-BBOMs4x0.js";const t={key:"/v1/Users",list:"/v1/Users",single:r=>`/v1/Users/${r}`,insert:"/v1/Users",update:"/v1/Users",delete:r=>`/v1/Users/${r}`,changePassword:"/v1/Security/change-password",updateStatus:"/v1/Users/status"};function f(){const{data:r,error:s,isLoading:a,mutate:e}=l(t.list,u,{revalidateIfStale:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{users:(r==null?void 0:r.data)||[],usersLoading:a,usersError:s,refreshUsers:e}}function w(r){const{data:s,error:a,isLoading:e}=l(r?t.single(r):null,u,{revalidateIfStale:!0,revalidateOnMount:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{user:s==null?void 0:s.data,userLoading:e,userError:a}}async function h(r){var s,a;try{const e=await i.post(t.insert,r);return await o(t.list),e.data}catch(e){throw new Error(((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al crear el usuario")}}async function g(r){var s,a;try{const e=(r==null?void 0:r.id)??(r==null?void 0:r.userId),n=await i.put(t.update,r),c=[o(t.list,void 0,{revalidate:!0})];return e&&c.push(o(t.single(e),void 0,{revalidate:!0})),await Promise.all(c),n.data}catch(e){throw new Error(((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al actualizar el usuario")}}async function v(r){var s,a;try{const e=await i.delete(t.delete(r));return o(t.list),e.data}catch(e){throw new Error(((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al eliminar el usuario")}}async function p(r,s){var a,e;try{return(await i.post(t.changePassword,{username:r,password:s,authorizedToken:""})).data}catch(n){throw new Error(((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Error al cambiar la contraseÃ±a")}}async function y(r,s){var a,e;try{const n=await i.post(t.updateStatus,{userIds:Array.isArray(r)?r:[r],isActive:s});return o(t.list),Array.isArray(r)?r.forEach(c=>o(t.single(c))):o(t.single(r)),n.data}catch(n){throw new Error(((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Error al cambiar el estado del usuario")}}export{y as a,w as b,g as c,v as d,p as e,h as i,f as u};
