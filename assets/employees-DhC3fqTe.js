import{a4 as u,a5 as m,r as d,a6 as i,z as o}from"./index-C1pIq2vl.js";const r={key:"/v1/Employees",list:e=>e?`?companyId=${e}`:"",detail:"",insert:"",update:"",delete:"",sync:"/sync"};function k(e,a={}){const t={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,...a},{data:s,isLoading:n,error:l,isValidating:c,mutate:y}=u(e?r.key+r.list(e):null,m,t);return d.useMemo(()=>({employees:(s==null?void 0:s.data)||[],employeesLoading:n,employeesError:l,employeesValidating:c,employeesEmpty:!n&&(!(s!=null&&s.data)||s.data.length===0),refreshEmployees:y}),[s,l,n,c,y])}function $(e){const{data:a,isLoading:t,error:s,isValidating:n}=u(e?`${r.key}/${e}`:null,m,{revalidateIfStale:!0,revalidateOnMount:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1});return d.useMemo(()=>({employee:a==null?void 0:a.data,employeeLoading:t,employeeError:s,employeeValidating:n}),[a,s,t,n])}async function h(e){try{const a=await i.post(r.key,e);return e.idCompany&&o(r.key+r.list(e.idCompany)),o(r.key+r.list()),a.data}catch(a){throw console.error("Error al insertar empleado:",a),a}}async function g(e){try{const a=await i.put(`${r.key}`,e);return e.id&&o(`${r.key}/${e.id}`),e.idCompany&&o(r.key+r.list(e.idCompany)),o(r.key+r.list()),a.data}catch(a){throw console.error("Error al actualizar empleado:",a),a}}async function E(e,a){try{const t=await i.delete(`${r.key}/${e}`);return a&&o(r.key+r.list(a)),o(r.key+r.list()),t.data}catch(t){throw console.error("Error al eliminar empleado:",t),t}}async function v(e){try{const a=e?`?companyId=${e}`:"",t=await i.post(`${r.key}${r.sync}${a}`);return e&&o(r.key+r.list(e)),o(r.key+r.list()),t.data}catch(a){throw console.error("Error al sincronizar empleados:",a),a}}export{g as a,$ as b,E as d,r as e,h as i,v as s,k as u};
