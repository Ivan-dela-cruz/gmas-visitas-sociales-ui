import{w as C,av as E,r as a,A as p,j as e,B as d,k as u,S as l,F as b}from"./index-8i2qIeC5.js";import{c as S,d as T}from"./employeeSocialVisits-8SJuFsJa.js";import"./VisitForm-C_oeZeY7.js";import{E as V}from"./EmployeeSocialVisitsColumns-_e9znNai.js";import{u as w}from"./useTabStyles-DZ8IKaQn.js";import{u as D,C as k}from"./useConfirmDialog-BqEGclvE.js";import{B as R}from"./index-iPnnsK5M.js";import"./VisitProfileTabs-Gey7v1zg.js";import{C as B}from"./CircularProgress-Ba8lmjXM.js";import{A as I}from"./ArrowLeft-D7tqb4HZ.js";import"./index.esm-2MvEHrLl.js";import"./visits-DGUmb9jP.js";import"./useFormLifecycle-Bu3S4m16.js";import"./useFormErrorRecovery-Dual0gFu.js";import"./TextField-hsc-s2X2.js";import"./InputLabel-BPE1mrZ-.js";import"./FormHelperText-DxDomcnh.js";import"./Checkbox-CUgLVUIU.js";import"./Eye-CL5BIpFe.js";import"./Edit-C1XPeCcf.js";import"./Clock-Coo_Horw.js";const ee=()=>{const i=C(),{tabPanelStyles:x}=w(),{visit:r}=E(),t=r==null?void 0:r.id,{employeeSocialVisits:g,employeeSocialVisitsLoading:f,employeeSocialVisitsError:h}=S(t,"Rechazado"),{dialogState:s,openDialog:n,closeDialog:y}=D();a.useCallback(()=>{i(`/apps/visits/${t}/details/create`)},[i,t]);const c=a.useCallback(o=>{i(`/apps/visits/${t}/details/edit/${o.id}`)},[i,t]),m=a.useCallback(async o=>{n({title:"Eliminar Detalle",message:"¿Está seguro de eliminar este detalle de visita? Esta acción no se puede deshacer.",severity:"error",confirmText:"Eliminar",onConfirm:async()=>{try{await T(o.id,t),p({open:!0,message:"Detalle de visita eliminado exitosamente",variant:"alert",alert:{color:"success"}})}catch(v){p({open:!0,message:v.message||"Error al eliminar el detalle de visita",variant:"alert",alert:{color:"error"}})}}})},[t,n]),j=a.useMemo(()=>V({onEdit:c,onDelete:m}),[c,m]);return f?e.jsx(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(B,{})}):h?e.jsx(d,{sx:{p:3},children:e.jsx(u,{color:"error",children:"Error al cargar las visitas rechazadas"})}):e.jsxs(e.Fragment,{children:[e.jsxs(l,{spacing:3,sx:{...x,pt:3},children:[e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(u,{variant:"h5",children:"Visitas sociales rechazadas"}),e.jsx(l,{direction:"row",spacing:2,children:e.jsx(b,{variant:"outlined",size:"small",startIcon:e.jsx(I,{}),onClick:()=>i("/apps/visits/list"),sx:{fontWeight:600},children:"Regresar"})})]}),e.jsx(R,{data:g||[],columns:j,filterOnHeaderVisible:!0,enableRowSelection:!0,tableId:"employeeSocialVisitsRejectedTable",tableNowrap:!0})]}),e.jsx(k,{open:s.open,title:s.title,message:s.message,severity:s.severity,confirmText:s.confirmText,cancelText:s.cancelText,onConfirm:s.onConfirm,onCancel:y})]})};export{ee as default};
