import{w as C,av as E,r as s,A as p,j as e,B as d,k as u,S as l,F as b}from"./index-3l9d1KGW.js";import{c as S,d as V}from"./employeeSocialVisits-Q7OgGiqD.js";import"./VisitForm-BfioE4cY.js";import{E as T}from"./EmployeeSocialVisitsColumns-C1jaQj05.js";import{u as w}from"./useTabStyles-CD0MK4Ck.js";import{u as D,C as k}from"./useConfirmDialog-Cj1zXZm7.js";import{B}from"./index-CX0mAAqE.js";import"./VisitProfileTabs-DDRfUn1v.js";import{C as I}from"./CircularProgress-J6yogQxx.js";import{A}from"./ArrowLeft-D_8-p770.js";import"./index.esm-C1Hzu-K8.js";import"./visits-DCzIezF0.js";import"./useFormLifecycle-BcTx0tZR.js";import"./useFormErrorRecovery-nUWcN-GT.js";import"./TextField-ipHljcwd.js";import"./InputLabel-CWODz4nt.js";import"./FormHelperText-BXYwuqgf.js";import"./Checkbox-Bj6tLyqd.js";import"./Eye-CAJoNwqC.js";import"./Edit-A4rURnLa.js";import"./Clock-CU-u9VWu.js";const ee=()=>{const a=C(),{tabPanelStyles:x}=w(),{visit:r}=E(),t=r==null?void 0:r.id,{employeeSocialVisits:g,employeeSocialVisitsLoading:f,employeeSocialVisitsError:y}=S(t,"Validado"),{dialogState:i,openDialog:n,closeDialog:v}=D();s.useCallback(()=>{a(`/apps/visits/${t}/details/create`)},[a,t]);const c=s.useCallback(o=>{a(`/apps/visits/${t}/details/edit/${o.id}`)},[a,t]),m=s.useCallback(async o=>{n({title:"Eliminar Detalle",message:"¿Está seguro de eliminar este detalle de visita? Esta acción no se puede deshacer.",severity:"error",confirmText:"Eliminar",onConfirm:async()=>{try{await V(o.id,t),p({open:!0,message:"Detalle de visita eliminado exitosamente",variant:"alert",alert:{color:"success"}})}catch(j){p({open:!0,message:j.message||"Error al eliminar el detalle de visita",variant:"alert",alert:{color:"error"}})}}})},[t,n]),h=s.useMemo(()=>T({onEdit:c,onDelete:m}),[c,m]);return f?e.jsx(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(I,{})}):y?e.jsx(d,{sx:{p:3},children:e.jsx(u,{color:"error",children:"Error al cargar las visitas validadas"})}):e.jsxs(e.Fragment,{children:[e.jsxs(l,{spacing:3,sx:{...x,pt:3},children:[e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(u,{variant:"h5",children:"Visitas sociales validadas"}),e.jsx(l,{direction:"row",spacing:2,children:e.jsx(b,{variant:"outlined",size:"small",startIcon:e.jsx(A,{}),onClick:()=>a("/apps/visits/list"),sx:{fontWeight:600},children:"Regresar"})})]}),e.jsx(B,{data:g||[],columns:h,filterOnHeaderVisible:!0,enableRowSelection:!0,tableId:"employeeSocialVisitsValidatedTable",tableNowrap:!0})]}),e.jsx(k,{open:i.open,title:i.title,message:i.message,severity:i.severity,confirmText:i.confirmText,cancelText:i.cancelText,onConfirm:i.onConfirm,onCancel:v})]})};export{ee as default};
