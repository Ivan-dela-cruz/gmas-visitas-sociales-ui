import{a4 as c,a5 as v,a6 as o,z as n}from"./index-pwr-e4Ht.js";const a={key:"/v1/Visits",list:s=>`/v1/Visits?companyId=${s}`,single:s=>`/v1/Visits/${s}`,insert:"/v1/Visits",update:"/v1/Visits",delete:s=>`/v1/Visits/${s}`};function u(s){var l;const{data:e,error:t,isLoading:r,mutate:i}=c(s?a.list(s):null,v,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{visits:e==null?void 0:e.data,visitsLoading:r,visitsError:t,visitsValidating:!t&&!e,visitsEmpty:!r&&!t&&((l=e==null?void 0:e.data)==null?void 0:l.length)===0,refreshVisits:i}}function y(s){const{data:e,error:t,isLoading:r}=c(s?a.single(s):null,v,{revalidateIfStale:!0,revalidateOnMount:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{visit:e==null?void 0:e.data,visitLoading:r,visitError:t}}async function g(s){var e,t;try{const r=await o.post(a.insert,s);return s.idCompany&&n(a.list(s.idCompany)),n(a.key),r.data}catch(r){throw new Error(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Error al crear la visita")}}async function m(s){var e,t;try{const r=(s==null?void 0:s.id)??(s==null?void 0:s.visitId),i=await o.put(a.update,s);return s.idCompany&&n(a.list(s.idCompany)),n(a.key),r&&n(a.single(r)),i.data}catch(r){throw new Error(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Error al actualizar la visita")}}async function h(s,e){var t,r;try{const i=await o.delete(a.delete(s));return e&&n(a.list(e)),n(a.key),i.data}catch(i){throw new Error(((r=(t=i.response)==null?void 0:t.data)==null?void 0:r.message)||"Error al eliminar la visita")}}export{y as a,m as b,h as d,g as i,u};
