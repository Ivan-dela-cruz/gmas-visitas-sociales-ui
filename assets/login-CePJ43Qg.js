import{r as p,y as A,j as e,b2 as C,a5 as I,G as s,S as c,aS as h,b1 as F,I as L,a7 as B,k as g,b3 as P,F as q,P as D,b4 as M}from"./index-C1pIq2vl.js";import{L as T,A as W}from"./AuthDivider-BaIUtR2k.js";import{A as G,a as R}from"./AnimateButton-BN0-O2OY.js";import{F as $,c as z,a as x}from"./formik.esm-BJieVtAb.js";import{u as V}from"./useScriptRef-BQ8okiSi.js";import{I as j}from"./InputLabel-Bx_DgBK8.js";import{F as d}from"./FormHelperText-DKDoT4uR.js";import{E as H}from"./Eye-D6moR2NK.js";import{E as U}from"./EyeSlash-C2aIofKx.js";import{C as J}from"./Checkbox-BVDf5dAw.js";function f({forgot:w}){const[E,b]=p.useState(!1),{login:y}=A(),u=V(),[l,O]=p.useState(!1),S=()=>{O(!l)},k=r=>{r.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx($,{initialValues:{userOrEmail:"GMAS",password:"root1234",submit:null},validationSchema:z().shape({userOrEmail:x().max(50).required("El usuario es requerido"),password:x().max(255).required("La contraseña es requerida")}),onSubmit:async(r,{setErrors:t,setStatus:a,setSubmitting:i})=>{try{await y(r.userOrEmail,r.password),u.current&&(a({success:!0}),i(!1),C("v1/ApplicationSettings/menu/dashboard",I))}catch(o){console.error(o),u.current&&(a({success:!1}),t({submit:o.message}),i(!1))}},children:({errors:r,handleBlur:t,handleChange:a,handleSubmit:i,isSubmitting:o,touched:n,values:m})=>e.jsx("form",{noValidate:!0,onSubmit:i,children:e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,children:[e.jsxs(c,{spacing:1,children:[e.jsx(j,{htmlFor:"userOrEmail-login",children:"Usuario"}),e.jsx(h,{id:"userOrEmail-login",type:"text",value:m.userOrEmail,name:"userOrEmail",onBlur:t,onChange:a,placeholder:"Ingrese su usuario",fullWidth:!0,error:!!(n.userOrEmail&&r.userOrEmail)})]}),n.userOrEmail&&r.userOrEmail&&e.jsx(d,{error:!0,id:"standard-weight-helper-text-userOrEmail-login",children:r.userOrEmail})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsxs(c,{spacing:1,children:[e.jsx(j,{htmlFor:"password-login",children:"Contraseña"}),e.jsx(h,{fullWidth:!0,error:!!(n.password&&r.password),id:"-password-login",type:l?"text":"password",value:m.password,name:"password",onBlur:t,onChange:a,endAdornment:e.jsx(F,{position:"end",children:e.jsx(L,{"aria-label":"toggle password visibility",onClick:S,onMouseDown:k,edge:"end",color:"secondary",children:l?e.jsx(H,{}):e.jsx(U,{})})}),placeholder:"Ingrese su contraseña"})]}),n.password&&r.password&&e.jsx(d,{error:!0,id:"standard-weight-helper-text-password-login",children:r.password})]}),e.jsx(s,{item:!0,xs:12,sx:{mt:-1},children:e.jsxs(c,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[e.jsx(B,{control:e.jsx(J,{checked:E,onChange:v=>b(v.target.checked),name:"checked",color:"primary",size:"small"}),label:e.jsx(g,{variant:"h6",children:"Mantenerme conectado"})}),e.jsx(T,{variant:"h6",component:P,to:w||"/auth/forgot-password",color:"text.primary",children:"¿Olvidaste tu contraseña?"})]})}),r.submit&&e.jsx(s,{item:!0,xs:12,children:e.jsx(d,{error:!0,children:r.submit})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(G,{children:e.jsx(q,{disableElevation:!0,disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Iniciar sesión"})})})]})})})})}f.propTypes={forgot:D.string};function ae(){return e.jsx(R,{children:e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,sx:{textAlign:"center"},children:e.jsx(M,{})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(W,{children:e.jsx(g,{variant:"h3",children:"Bienvenidos"})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(f,{forgot:"/auth/forgot-password"})})]})})}export{ae as default};
