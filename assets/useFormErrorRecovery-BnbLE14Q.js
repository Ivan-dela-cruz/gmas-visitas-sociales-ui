import{ax as g,r as s}from"./index-pwr-e4Ht.js";function E(t,c){const{addError:a}=g(),r=s.useCallback(e=>{const o=`form_recovery_${t}`;localStorage.setItem(o,JSON.stringify(e))},[t]),l=s.useCallback(()=>{const e=`form_recovery_${t}`,o=localStorage.getItem(e);return o?JSON.parse(o):null},[t]),n=s.useCallback(()=>{const e=`form_recovery_${t}`;localStorage.removeItem(e)},[t]),v=s.useCallback((e,o,u="save",y=null)=>(r(o),a({message:e,statusCode:500,formData:o,operation:u,retryCallback:y})),[a,r]);return s.useEffect(()=>{if(!c)return;const e=setInterval(()=>{r(c)},1e4);return()=>clearInterval(e)},[c,r]),s.useEffect(()=>{r(c)},[c,r]),{saveFormDataForRecovery:r,getRecoveredData:l,clearRecoveredData:n,saveErrorWithFormData:v}}export{E as u};
